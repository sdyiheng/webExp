<!doctype html>

<html>

<head>

    <meta charset="utf-8">

    <title>无标题文档</title>

    <script src="js/vendor/jquery-1.4.4.min.js"></script>
    <script src="js/vendor/jquery.jqprint-0.3.js"></script>
    <script language="javascript">

        function  a(){


            //document.getElementById("mycanvasimg").src = document.getElementById("mycanvas").toDataURL();
            //$("mycanvasimg").attr("src", document.getElementById("mycanvas").toDataURL());
            var mycanvas = document.getElementById("mycanvas");
            var image = mycanvas.toDataURL("image/png");
           // alert(image);
            $("#mycanvasimg").html("<img src='" + image + "' alt='from canvas'/>");
          //  alert($("#mycanvasimg").html());
            $("#mycanvas").hide();
            $("#mycanvasimg").show();
            $("#ddd").jqprint();
            $("#mycanvas").show();
            $("#mycanvasimg").hide();
        }


        $(function () {
     // get the canvas element using the DOM
            var canvas = document.getElementById('mycanvas');

            // Make sure we don't execute when canvas isn't supported
            if (canvas.getContext){

               // use getContext to use the canvas for drawing
               var ctx = canvas.getContext('2d');

               // Filled triangle
               ctx.beginPath();
               ctx.moveTo(25,25);
               ctx.lineTo(105,25);
               ctx.lineTo(25,105);
               ctx.fill();

               // Stroked triangle
               ctx.beginPath();
               ctx.moveTo(125,125);
               ctx.lineTo(125,45);
               ctx.lineTo(45,125);
               ctx.closePath();
               ctx.stroke();
            }

            else {
               alert('You need Safari or Firefox 1.5+ to see this demo.');
            }
        });

    </script>

</head>

<body>
    <input type="button" onclick="a()" value="打印" />

    打印本页中一下内容：
<div id="ddd">

    <table>


        <tr>
            <td>canvas</td>
            <td><canvas id="mycanvas" width="400" height="300" styl="background:#FF0000"></canvas><div id="mycanvasimg"></div></td>
        </tr>

        <tr>
            <td>iframe</td>

            <td><iframe src="http://www.officeweb365.com/" width="600" height="500"></iframe></td>


        </tr>


        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
        <tr>


            <td>test</td>

            <td>test</td>

        </tr>
       



    </table>



</div>








</body>

</html>

